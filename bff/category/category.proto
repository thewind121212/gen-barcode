syntax = "proto3";

import "google/protobuf/timestamp.proto";

option go_package = "api/models;models";

package category;


message CreateCategoryRequest {
    string name = 1;
    optional string parentId = 2;
    string colorSettings = 3;
    string layer = 4;
    optional string description = 5;
    string status = 6;
    string icon = 7;
}


message CreateCategoryResponse {
    optional string categoryId = 1;
}

message UpdateCategoryRequest {
  string categoryId = 1;
  CreateCategoryRequest categoryUpdate = 2;
}

message UpdateCategoryResponse {
    optional string categoryId = 1;
}

message CategoryResponse {
  optional string categoryId = 1;
  optional string name = 2;
  optional string parentId = 3;
  optional string description = 4;
  optional string colorSettings = 5;
  optional string layer = 6;
  optional string icon = 7;
  optional int32 subCategoriesCount = 8;
  optional string status = 9;
  string storeId = 10;
  int32 itemCount = 11;
  int64 totalValue = 13;
  int32 lowStockCount = 14;
}


message GetCategoryOverviewResponse {
  repeated CategoryResponse categoryOverviews = 1;
}

message GetCategoryOverviewRequest {
  string storeId = 1;
}

message GetCategoryOverviewWithDepthRequest {
  string storeId = 1;
  int32 depth = 2;
}

message GetCategoryByIdRequest {
   string categoryId = 1;
}

message RemoveCategoryRequest {
  repeated string categoryIds = 1;
}

message RemoveCategoryResponse {
  int32 removedCount = 1;
}

message GetCategoryTreeRequest {
  string categoryId = 1;
}

message GetCategoryTreeResponse {
  repeated CategoryResponse categoryTree = 1;
}

service UserService {
  rpc CreateCategory(CreateCategoryRequest) returns (CreateCategoryResponse) {
    option (google.api.http) = {
      post: "/v1/category/CreateCategory"
      body: "*"
    };
  }
  rpc GetCategoryById(GetCategoryByIdRequest) returns (CategoryResponse) {
    option (google.api.http) = {
      post: "/v1/category/GetCategoryById"
      body: "*"
    };
  }
  rpc RemoveCategory(RemoveCategoryRequest) returns (RemoveCategoryResponse) {
    option (google.api.http) = {
      delete: "/v1/category/RemoveCategory"
      body: "*"
    };
  }
  rpc UpdateCategory(UpdateCategoryRequest) returns (UpdateCategoryResponse) {
    option (google.api.http) = {
      put: "/v1/category/UpdateCategory"
      body: "*"
    };
  }
  rpc GetCategoryOverview(GetCategoryOverviewRequest) returns (GetCategoryOverviewResponse) {
    option (google.api.http) = {
      get: "/v1/category/GetCategoryOverview"
      body: "*"
    };
  }
  rpc GetCategoryOverviewWithDepth(GetCategoryOverviewWithDepthRequest) returns (GetCategoryOverviewResponse) {
    option (google.api.http) = {
      post: "/v1/category/GetCategoryOverviewWithDepth"
      body: "*"
    };
  }
  rpc GetCategoryTree(GetCategoryTreeRequest) returns (GetCategoryTreeResponse) {
    option (google.api.http) = {
      post: "/v1/category/GetCategoryTree"
      body: "*"
    };
  }
}
